---
import { commentConfig } from "@/config";
import type { CollectionEntry } from "astro:content";
interface Props {
  path: string;
  post: CollectionEntry<"posts">;
}
const { id, data, slug } = Astro.props.post;
const config = {
  ...commentConfig.artalk,
  pageKey: Astro.props.path,
  locale: "zh-CN",                         // 固定链接
  pageTitle: data.title,            // 页面标题
  darkMode: "auto",                       // 深色模式
};

---

<!-- 挂载点 -->
<div class="relative w-full">
  <div id="Artalk"></div>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/artalk/2.9.1/Artalk.css">
  <script type="module" is:inline define:vars={{ config }}>
    import Artalk from 'https://esm.sh/artalk@2.9.1'
    Artalk.init({
      ...config,
      el: document.querySelector(`#Artalk`)
    })
  </script>
</div>